| Action                                  | Input/Data                                                                        | Pre Condition(s)                                                                                                                                                                 | Post Condition(s)                                                                                                                                                                                                                                                                                                                                                                                  | API Endpoint |
|-----------------------------------------|-----------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|
| User Creates a Game                     | 1. player_id<br>2. game_title<br>3. numb_players                                  |                                                                                                                                                                                  | 1. A new game is created (new game_id)<br>2. player_id is added to game_id<br>3. Player is moved into the games' waiting room                                                                                                                                                                                                                                                                      | POST/games/create <br> {game_title, numb_players} <br> (player_id available in session)|
| User Rolls Dice                         | 1. player_id                                                                      | 1. player_id is the player's in-game id<br>2. It has to be the player_id's turn                                                                                                  | 1. Two dice are rolled with random numbers from 1 to 6<br>2. The players location will increase by the sum of the two dice<br>3. If the dice have matching numbers the player rolls again                                                                                                                                                                                                          | POST/games/:id/roll <br> {dice_1, dice_2,player_location} <br> (player_id is available in session, game_id in url)|
| User sells property to player           | 1. player_id_seller<br>2. player_id_buyer<br>3. space_id<br>4. player_cash        | 1. The player with player_id_seller owns the space of space_id<br>2. There are no buildings erected on the properties color-group                                                | 1. The property changes ownership from the seller to the buyer<br>2. Money is transferred from the buyer to the seller                                                                                                                                                                                                                                                                             | POST/games/:id/sellprop <br> {player_id_seller, player_id_buyer, space_id, player_cash} <br> (player_id is available in session, game_id in url)|
| User goes bankrupt (player is creditor) | 1. player_id_creditor<br>2. player_id_debtor<br>3. player_cash                    | 1. It has to be the player_id_debtor's turn<br>2. The debtor has already rolled<br>3. The debtor cannot pay the fee to the creditor                                              | 1. All buildings on the properties of the debtor are sold to the bank for half price<br>2. Money made from the sale of buildings is transferred to the creditor<br>3. All property is transferred to the creditor<br>4. If a property was mortgaged the new owner must either immediately pay off the mortgage or pay a 10% interest fee on the mortgage<br>5. The debtor is retired from the game | POST/games/:id/plcreditor <br> {player_id_creditor, player_id_debtor, player_cash} <br> (game_id in url)|
| User goes bankrupt (bank is creditor)   | 1. player_id_debtor<br>2. player_cash                                             | 1. It has to be the player_id_debtor's turn<br>2. The debtor has already rolled<br>3. The debtor cannot pay the fee to the bank                                                  | 1. All buildings on the properties of the debtor are removed<br>2. All properties are auctioned off<br>3. The debtor is retired from the game                                                                                                                                                                                                                                                      | POST/games/:id/bacrediotor <br> {player_id_debtor, player_cash} <br> (game_id in url)|
| User sells building                     | 1. player_id<br>2. space_id<br>3. player_cash<br>4.building_id                    | 1. player_id owns the property of space_id<br>2. There are buildings on the property of space_id                                                                                 | 1. Half the cash value of each building sold is transferred from the bank to the player<br>2. The amount of buildings that are sold are removed from the same color-group evenly in the reverse order that they were built<br>3. Adds sold buildings to the pool of available buildings for purchase                                                                                               | POST/games/:id/sellbuild <br> {player_cash, space_id, building_id} <br> (player_id is available in session, game_id in url)|
| User takes out a mortgage               | 1. player_id<br>2. space_id<br>3. player_cash                                     | 1. The player with player_id owns the property of space_id<br>2. The property of space_id is has no buildings<br>3. There is no existing mortgage on the property                | 1. The amount of money for the mortgage, as shown on the Title Deed, is transferred from the bank to the player<br>2. The property no longer charges rent when a player lands on it                                                                                                                                                                                                                | POST/games/:id/mortage <br> {space_id, player_cash} <br> (player_id is available in session, game_id in url)|
| User builds building                    | 1. player_id<br>2. player_cash<br>3. space_id<br>4.building_id                    | 1. There are still buildings available to build<br>2. The player with player_id owns all properties of a color-group<br>3. The player has enough money to purchase the buildings | 1. Erects the buildings purchased evenly across the properties color-group<br>2. Deducts the amount of money spent on the buildings from the buyer                                                                                                                                                                                                                                                 | POST/games/:id/build <br> {space_id, player_cash, building_id} <br> (player_id is available in session, game_id in url)|
| User triggers building shortage         | 1. player_id<br>2. building_stock                                                 | 1. Two or more players are trying to build more buildings than there are left available                                                                                          | 1. An auction is triggered for the available buildings in demand, whoever bids the highest gets the buildings<br>2. Removes the buildings from the banks pool of available buildings<br>3. Removes the amount of money equal to the winning bid from the player who won the auction                                                                                                                | POST/games/:id/buildshort <br> {building_stock} <br> (player_id is available in session, game_id in url)|
