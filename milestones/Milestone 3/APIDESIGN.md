| Action                                  | Input/Data                                                                        | Pre Condition(s)                                                                                                                                                                 | Post Condition(s)                                                                                                                                                                                                                                                                                                                                                                                  | API Endpoint |
|-----------------------------------------|-----------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------|
| User Creates a Game                     | 1. player_id<br>2. game_title<br>3. num_players                                   |                                                                                                                                                                                  | 1. A new game is created (new game_id)<br>2. player_id is added to game_id<br>3. Player is moved into the games' waiting room                                                                                                                                                                                                                                                                      | POST/games/create <br> {game_title, num_players} <br> (player_id available in session)|
| User Rolls Dice                         | 1. player_id                                                                      | 1. player_id is the player's in-game id<br>2. It has to be the player_id's turn                                                                                                  | 1. Two dice are rolled with random numbers from 1 to 6<br>2. The players location will increase by the sum of the two dice<br>3. If the dice have matching numbers the player rolls again                                                                                                                                                                                                          | POST/games/:id/roll <br> {} <br> (player_id is available in session, game_id in url)|
| User sells property to player           | 1. player_id_seller<br>2. player_id_buyer<br>3. space_id<br>4. property_value     | 1. The player with player_id_seller owns the space of space_id<br>2. There are no buildings erected on the properties color-group                                                | 1. The property changes ownership from the seller to the buyer<br>2. Money is transferred from the buyer to the seller                                                                                                                                                                                                                                                                             | POST/games/:id/sellprop <br> {player_id_seller, player_id_buyer, space_id, property_value} <br> (player_id is available in session, game_id in url)|
| User sells building                     | 1. player_id<br>2. space_id<br>3. building_id                                     | 1. player_id owns the property of space_id<br>2. There are buildings on the property of space_id                                                                                 | 1. Half the cash value of each building sold is transferred from the bank to the player<br>2. The amount of buildings that are sold are removed from the same color-group evenly in the reverse order that they were built<br>3. Adds sold buildings to the pool of available buildings for purchase                                                                                               | POST/games/:id/sellbuild <br> {space_id, building_id} <br> (player_id is available in session, game_id in url)|
| User takes out a mortgage               | 1. player_id<br>2. space_id                                                       | 1. The player with player_id owns the property of space_id<br>2. The property of space_id is has no buildings<br>3. There is no existing mortgage on the property                | 1. The amount of money for the mortgage, as shown on the Title Deed, is transferred from the bank to the player<br>2. The property no longer charges rent when a player lands on it                                                                                                                                                                                                                | POST/games/:id/mortage <br> {space_id} <br> (player_id is available in session, game_id in url)|
| User builds building                    | 1. player_id<br>2. space_id<br>3. building_id<br>4. num_buildings                 | 1. There are still buildings available to build<br>2. The player with player_id owns all properties of a color-group<br>3. The player has enough money to purchase the buildings | 1. Erects the buildings purchased evenly across the properties color-group<br>2. Deducts the amount of money spent on the buildings from the buyer                                                                                                                                                                                                                                                 | POST/games/:id/build <br> {space_id, building_id, num_buildings} <br> (player_id is available in session, game_id in url)|
| User triggers building shortage         | 1. player_id<br>2. building_stock                                                 | 1. Two or more players are trying to build more buildings than there are left available                                                                                          | 1. An auction is triggered for the available buildings in demand, whoever bids the highest gets the buildings<br>2. Removes the buildings from the banks pool of available buildings<br>3. Removes the amount of money equal to the winning bid from the player who won the auction                                                                                                                | POST/games/:id/buildshort <br> {building_stock} <br> (player_id is available in session, game_id in url)|
| User enters bid                         | 1. player_id<br>2. new_bid                                                        | 1. There is an auction currently in play<br>2. The player_id of current highest bid is not that same as the one for new_bid<br>3. User with player_id has enough money to bid    | 1. The new bid replaces the old bid<br>2. The player_id for the bid is changed to reflect the user who currently has the highest bid                                                                                                                                                                                                                                                               | POST/games/:id/bid <br> {new_bid} <br> (player_id is available in session, game_id in url)|
| User does not buy property landed on    | 1. space_id                                                                       | 1. The user who landed on a bank owned property didn't purchase it from the bank                                                                                                 | 1. An auction is triggered with the highest bidder becoming the owner of the property of space_id                                                                                                                                                                                                                                                                                                  | POST/games/:id/propertyauction <br> {space_id} <br> (player_id is available in session, game_id in url)|
